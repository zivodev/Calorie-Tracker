<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=5.0, maximum-scale=1.0" />
<title>CalorieScope</title>
<link rel="icon" type="image/png" href="logo.png">

<!-- External CSS -->
<link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="loadingBar"></div>

  <div class="container" dir="ltr">
    <div class="brand" aria-label="CalorieScope">
      <img src="logo.png" alt="CalorieScope logo" />
      <span class="brand-title">CalorieScope</span>
    </div>

    <div class="layout">
      <section class="panelColumn" id="goalColumn">
        <div id="userPanel" class="panel">
          <button id="panelToggle" class="panelHeader" aria-expanded="true">
            <span id="panelTitle" data-i18n="panel.title">Body Details</span>
            <span class="arrow">⌃</span>
          </button>

          <div id="panelBody" class="panelBody">
            <form id="userForm">
              <input type="number" id="age" placeholder="Age" data-i18n-placeholder="form.age" required />
              <input type="number" id="weight" placeholder="Weight (kg)" data-i18n-placeholder="form.weight" required />
              <input type="number" id="height" placeholder="Height (cm)" data-i18n-placeholder="form.height" required />

              <select id="gender" required>
                <option value="" data-i18n="form.genderPlaceholder">Select Gender</option>
                <option value="male" data-i18n="form.male">Male</option>
                <option value="female" data-i18n="form.female">Female</option>
              </select>

              <select id="activity" required>
                <option value="" data-i18n="form.activityPlaceholder">Activity Level</option>
                <option value="sedentary" data-i18n="form.activity.sedentary">Sedentary (little or no exercise)</option>
                <option value="light" data-i18n="form.activity.light">Lightly Active (1–3 days/week)</option>
                <option value="moderate" data-i18n="form.activity.moderate">Moderately Active (3–5 days/week)</option>
                <option value="active" data-i18n="form.activity.active">Active (6–7 days/week)</option>
                <option value="very_active" data-i18n="form.activity.very_active">Very Active (hard daily exercise)</option>
              </select>

              <select id="goal" required>
                <option value="" data-i18n="form.goalPlaceholder">Goal</option>
                <option value="maintain" data-i18n="form.goal.maintain">Maintain weight</option>
                <option value="lose" data-i18n="form.goal.lose">Lose weight</option>
                <option value="gain" data-i18n="form.goal.gain">Gain weight</option>
                <option value="muscle" data-i18n="form.goal.muscle">Muscle gain</option>
                <option value="cut" data-i18n="form.goal.cut">Fat loss (cut)</option>
              </select>

              <button type="submit" data-i18n="form.submit">Get Calorie Goal</button>
            </form>
          </div>
        </div>

        <div id="goalDisplay" data-i18n="goal.placeholder"></div>

        <div id="progressContainer" class="panel" style="display:none;">
          <div class="circleWrap" aria-label="Calories progress">
            <svg viewBox="0 0 160 160" role="img" aria-hidden="true">
              <circle class="circleBg" cx="80" cy="80" r="70" stroke-width="14" fill="none"></circle>
              <circle id="calorieProgress" class="circleFg" cx="80" cy="80" r="70" stroke-width="14" fill="none"
                stroke-linecap="round" stroke-dasharray="439.82" stroke-dashoffset="439.82"></circle>
            </svg>
            <div class="circleCenter">
              <div id="progressText" class="circleValue">0 / 0 kcal</div>
              <div class="circleLabel" data-i18n="progress.label">Calorie goal</div>
            </div>
          </div>

          <div class="macroProgress">
            <div class="macroBlock">
              <p id="proteinText" class="macroTitle">Protein: 0g / 0g</p>
              <div class="miniBar"><div id="proteinBar" class="miniFill"></div></div>
            </div>

            <div class="macroBlock">
              <p id="carbsText" class="macroTitle">Carbs: 0g / 0g</p>
              <div class="miniBar"><div id="carbsBar" class="miniFill carbs"></div></div>
            </div>

            <div class="macroBlock">
              <p id="fatText" class="macroTitle">Fats: 0g / 0g</p>
              <div class="miniBar"><div id="fatBar" class="miniFill fat"></div></div>
            </div>
          </div>
        </div>
      </section>

      <section class="panelColumn" id="mediaColumn">
        <div class="panel mediaPanel">
          <h2 data-i18n="media.title">Meal capture</h2>
          <p class="mediaLead" data-i18n="media.lead">Log a photo when you add calories</p>

          <div class="uploadInfo">
            <img id="imagePreview" alt="preview" />
            <span id="uploadStatus" class="uploadStatus" data-i18n="media.status.idle">Waiting for a photo</span>
          </div>

          <div class="uploadRow">
            <input type="file" id="mealImage" accept="image/*" />
            <button id="uploadBtn" type="button" aria-label="Upload" data-i18n="media.addPhoto">⬆ Add a photo</button>
            <button id="sendImage" class="circleBtn" type="button" aria-label="Send">➤</button>
          </div>

          <div id="imageInfoContainer">
            <input type="text" id="imageInfo" placeholder="Add info about this meal (optional)"
              data-i18n-placeholder="media.caption" />
          </div>

          <div class="manualAdd">
            <input type="number" id="manualCalories" placeholder="Add calories manually"
              data-i18n-placeholder="media.manual" />
            <button id="addCaloriesBtn" class="circleBtn" type="button">+</button>
          </div>
        </div>
      </section>

      <section class="panelColumn" id="settingsColumn">
        <div class="panel settingsPanel">
          <h2 data-i18n="settings.title">Personalize</h2>

          <div class="settingRow">
            <div class="settingLabel" data-i18n="settings.language">Language</div>
            <label class="switch" aria-label="Toggle language">
              <input type="checkbox" id="langToggle" />
              <span class="switchTrack"><span class="switchThumb"></span></span>
              <span id="langToggleLabel" class="switchText" data-i18n="settings.languageCurrent">Arabic</span>
            </label>
          </div>

          <div class="settingRow themeRow">
            <div class="settingLabel" data-i18n="settings.theme">Themes</div>
            <div id="themeSelector" class="theme-selector collapsed" aria-label="Theme selector">
              <button id="themeToggle" class="theme-toggle" aria-expanded="false" title="Themes">
                <span class="theme-icon" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 18h18L14 6l-4 6-2-3z" stroke="currentColor" stroke-width="2" fill="none"
                      stroke-linejoin="round" />
                  </svg>
                </span>
                <span class="arrow">⌄</span>
              </button>

              <div class="theme-list">
                <button class="theme-circle" data-theme="default" title="Default"></button>
                <button class="theme-circle" data-theme="sunset" title="Sunset"></button>
                <button class="theme-circle" data-theme="ocean" title="Ocean"></button>
                <button class="theme-circle" data-theme="forest" title="Forest"></button>
                <button class="theme-circle" data-theme="neon" title="Neon"></button>
                <button class="theme-circle" data-theme="lavender" title="Lavender"></button>
              </div>
            </div>
          </div>

          <div class="settingNote" data-i18n="settings.note">
            Changes are saved locally so you can pick up where you left off.
          </div>
        </div>
      </section>
    </div>
  </div>

  <button id="forgetGoalBtn" type="button" aria-label="Change information" title="Change information">⟲</button>

  <div id="loadingOverlay">
    <div class="spinner" aria-label="Loading"></div>
  </div>

  <!-- External JS -->
  <script src="app.js"></script>
</body>
</html>